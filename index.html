<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>hw-02</title>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <style>
        #txt {
            border: 2px solid red;
            width: 100px;
            height: 30px;
            text-align: center;
            line-height: 30px;
        }
    </style>
</head>

<body>
    <input class="number" type="text">
    <input id="btn" type="button" onclick="square()" value="平方">
    <hr>
    <script>
        function square() {
            var num = d3.select(".number")
                .property("value");

            console.log(num);

            d3.select(".number")
                .property("value", num * num);
        };
    </script>
    <script>
        var svg1 = d3.select("body")
            .append("svg")
            .attr({
                width: 400,
                height: 300
            });

        for (i = 0; i < 5; i++) {
            svg1.append("line")
                .attr({
                    x1: 50,
                    y1: 50 + i * 50,
                    x2: 350,
                    y2: 50 + i * 50,
                    stroke: "black"
                });

        }

        svg1.append("rect")
            .attr({
                x: 200,
                y: 50,
                width: 5,
                height: 125
            });

        svg1.append("circle")
            .attr({
                cx: 180,
                cy: 175,
                r: 25
            })

        svg1.append("text")
            .attr({
                x: 170,
                y: 300,
                "font-family": "arial",
                "font-size": 50
            })
            .text("A");

        d3.select("body")
            .append("hr");
    </script>

    <script>
        var svg2 = d3.select("body")
            .append("svg")
            .attr({
                width: 400,
                height: 500
            });

        for (var i = 0; i < 20; i++) {
            var num = random(20, 300);

            svg2.append("rect")
                .attr({
                    x: 20,
                    y: 20 + i * 12,
                    width: num,
                    height: 10,
                    fill: "red"
                });
            
            svg2.append("text")
                .attr({
                x:num+25,
                y:30 + i * 12,
                "font-family":"arial",				
                "font-size":10
                })
                .text(num);
            
        }

        function random(m, n) {
            return Math.ceil(Math.random() * (m - n) + n);
        }
    </script>

</body>

</html>